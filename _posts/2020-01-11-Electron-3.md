---
title: "(Electron) Section3. Handling Menu Bars"
date: 2020-01-11 00:00:00 -0000
---

### 목차

* [init project](#init-project)
* [Creating the MainWindow](#Creating-the-MainWindow)
* [Constructing Menu Bars](#Constructing-Menu-Bars)
* [Menu Bar Gotchas](#Menu-Bar-Gotchas)
* [On Menu Click Functionality](#On-Menu-Click-Functionality)
* [Cross Platform Hotkeys](#Cross-Platform-Hotkeys)
* [](#)
* [](#)

---

> * [TOP](#목차)

### init project

```s
$npm init
$npm install --save electron
```

![](/file/image/electron-3-image01.png)

---

> * [TOP](#목차)

### Creating the MainWindow

> package.json

```json
{
  "name": "electron-todo-example",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "electron": "electron ."
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "electron": "^7.1.8"
  }
}
```

> index.js

```js
const electron = require('electron');

const { app, BrowserWindow } = electron;

let mainWindow;

app.on('ready', () => {
    mainWindow = new BrowserWindow({});
    mainWindow.loadURL(`file://${__dirname}/main.html`);
});
```

> main.html

```html
<head>


</head>
<body>
    <h1>My Todos</h1>
</body>
```

```s
$npm run electron
```

![](/file/image/electron-3-image02.png)

---

> * [TOP](#목차)

### Constructing Menu Bars

> index.js

```js
const electron = require('electron');

const { app, BrowserWindow, Menu } = electron;

let mainWindow;

app.on('ready', () => {
    mainWindow = new BrowserWindow({});
    mainWindow.loadURL(`file://${__dirname}/main.html`);

    const mainMenu = Menu.buildFromTemplate(menuTemplate);
    Menu.setApplicationMenu(mainMenu);
});

const menuTemplate = [
    {
        label: 'File'
    }
];
```

![](/file/image/electron-3-image03.png)

> 기존에 Menu에 설정 되어 있었던 short-cut역이 모두 막힘(주의)

---

> * [TOP](#목차)

### Menu Bar Gotchas

```js
const electron = require('electron');

const { app, BrowserWindow, Menu } = electron;

let mainWindow;

app.on('ready', () => {
    mainWindow = new BrowserWindow({});
    mainWindow.loadURL(`file://${__dirname}/main.html`);

    const mainMenu = Menu.buildFromTemplate(menuTemplate);
    Menu.setApplicationMenu(mainMenu);
});

const menuTemplate = [
    {
        label: 'File',
        submenu: [
            { label: 'New Todo' }
        ]
    }
];
```

---

> * [TOP](#목차)

### On Menu Click Functionality

```js
const electron = require('electron');

const { app, BrowserWindow, Menu } = electron;

let mainWindow;

app.on('ready', () => {
    mainWindow = new BrowserWindow({});
    mainWindow.loadURL(`file://${__dirname}/main.html`);

    const mainMenu = Menu.buildFromTemplate(menuTemplate);
    Menu.setApplicationMenu(mainMenu);
});

const menuTemplate = [
    {
        label: 'File',
        submenu: [
            { label: 'New Todo' },
            { label: 'Quit', click() {
                app.quit();
            }}
        ]
    }
];

if(process.platform === 'darwin') {  // OSX
    menuTemplate.unshift({});          // for Menubar shift
}
```

---

> * [TOP](#목차)

### Cross Platform Hotkeys

```js
const electron = require('electron');

const { app, BrowserWindow, Menu } = electron;

let mainWindow;

app.on('ready', () => {
    mainWindow = new BrowserWindow({});
    mainWindow.loadURL(`file://${__dirname}/main.html`);

    const mainMenu = Menu.buildFromTemplate(menuTemplate);
    Menu.setApplicationMenu(mainMenu);
});

const menuTemplate = [
    {
        label: 'File',
        submenu: [
            { label: 'New Todo' },
            { label: 'Quit', 
            /*
            accelerator: (() => {
                if(process.platform === 'darwin') {
                    return 'Command+Q';
                } else {
                    return 'Ctrl+Q'
                }
            })(),
            */
           accelerator: process.platform === 'darwin' ? 'Command+Q' : 'Ctrl+Q', 
            click() {
                app.quit();
            }}
        ]
    }
];

if(process.platform === 'darwin') {  // OSX
    menuTemplate.unshift({});          // for Menubar shift
}
```

---

> * [TOP](#목차)

### 